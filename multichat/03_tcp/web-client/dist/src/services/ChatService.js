//
// Copyright (c) ZeroC, Inc. All rights reserved.
//
//
// Ice version 3.7.10
//
// <auto-generated>
//
// Generated from file `ChatService.ice'
//
// Warning: do not edit this file.
//
// </auto-generated>
//

/* eslint-disable */
/* jshint ignore: start */

(function (module, require, exports) {
    // Use window.Ice.Ice directly (Ice.Ice contains _ModuleRegistry and Slice)
    const IcePackage = window.Ice || (require && require("ice"));
    if (!IcePackage) {
        throw new Error('Ice library not loaded. Make sure window.Ice is available.');
    }

    const Ice = IcePackage.Ice || IcePackage;

    console.log('[ChatService] IcePackage keys:', Object.keys(IcePackage));
    console.log('[ChatService] Ice keys:', Object.keys(Ice));
    console.log('[ChatService] Ice._ModuleRegistry:', Ice._ModuleRegistry);
    console.log('[ChatService] Ice.Slice:', Ice.Slice);

    const _ModuleRegistry = Ice._ModuleRegistry;
    const Slice = Ice.Slice;

    if (!_ModuleRegistry) {
        throw new Error('Ice._ModuleRegistry not found. Ice may not be fully loaded.');
    }

    let chat = _ModuleRegistry.module("chat");

    chat.Message = class {
        constructor(id = "", sender = "", receiver = "", content = "", isAudio = false, timestamp = new Ice.Long(0, 0)) {
            this.id = id;
            this.sender = sender;
            this.receiver = receiver;
            this.content = content;
            this.isAudio = isAudio;
            this.timestamp = timestamp;
        }

        _write(ostr) {
            ostr.writeString(this.id);
            ostr.writeString(this.sender);
            ostr.writeString(this.receiver);
            ostr.writeString(this.content);
            ostr.writeBool(this.isAudio);
            ostr.writeLong(this.timestamp);
        }

        _read(istr) {
            this.id = istr.readString();
            this.sender = istr.readString();
            this.receiver = istr.readString();
            this.content = istr.readString();
            this.isAudio = istr.readBool();
            this.timestamp = istr.readLong();
        }

        static get minWireSize() {
            return 13;
        }
    };

    Slice.defineStruct(chat.Message, true, true);

    chat.Call = class {
        constructor(callId = "", caller = "", callee = "", active = false, startedAt = new Ice.Long(0, 0)) {
            this.callId = callId;
            this.caller = caller;
            this.callee = callee;
            this.active = active;
            this.startedAt = startedAt;
        }

        _write(ostr) {
            ostr.writeString(this.callId);
            ostr.writeString(this.caller);
            ostr.writeString(this.callee);
            ostr.writeBool(this.active);
            ostr.writeLong(this.startedAt);
        }

        _read(istr) {
            this.callId = istr.readString();
            this.caller = istr.readString();
            this.callee = istr.readString();
            this.active = istr.readBool();
            this.startedAt = istr.readLong();
        }

        static get minWireSize() {
            return 12;
        }
    };

    Slice.defineStruct(chat.Call, true, true);

    Slice.defineSequence(chat, "MessageSeqHelper", "chat.Message", false);

    Slice.defineSequence(chat, "CallSeqHelper", "chat.Call", false);

    const iceC_chat_ChatCallback_ids = [
        "::Ice::Object",
        "::chat::ChatCallback"
    ];

    chat.ChatCallback = class extends Ice.Object {
    };

    chat.ChatCallbackPrx = class extends Ice.ObjectPrx {
    };

    Slice.defineOperations(chat.ChatCallback, chat.ChatCallbackPrx, iceC_chat_ChatCallback_ids, 1,
        {
            "onNewMessage": [, , , , , [[chat.Message]], , , ,],
            "onCallStarted": [, , , , , [[chat.Call]], , , ,],
            "onCallEnded": [, , , , , [[7]], , , ,]
        });

    const iceC_chat_ChatService_ids = [
        "::Ice::Object",
        "::chat::ChatService"
    ];

    chat.ChatService = class extends Ice.Object {
    };

    chat.ChatServicePrx = class extends Ice.ObjectPrx {
    };

    Slice.defineOperations(chat.ChatService, chat.ChatServicePrx, iceC_chat_ChatService_ids, 1,
        {
            "getHistory": [, , , , ["chat.MessageSeqHelper"], [[7]], , , ,],
            "sendMessage": [, , , , , [[7], [7]], , , ,],
            "sendAudio": [, , , , , [[7], [7]], , , ,],
            "startCall": [, , , , [chat.Call], [[7], [7]], , , ,],
            "endCall": [, , , , , [[7]], , , ,],
            "getActiveCalls": [, , , , ["chat.CallSeqHelper"], [[7]], , , ,],
            "subscribe": [, , , , , [[7], ["chat.ChatCallbackPrx"]], , , ,]
        });
    exports.chat = chat;
    // Make chat available globally for ES module export
    if (typeof window !== 'undefined') {
        window.chat = chat;
    }
}
    (typeof (global) !== "undefined" && typeof (global.process) !== "undefined" ? module : undefined,
        typeof (global) !== "undefined" && typeof (global.process) !== "undefined" ? require :
            (typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope) ? self.Ice._require :
                (window.Ice && window.Ice._require) || function (m) { return m === 'ice' ? { Ice: window.Ice } : {}; },
        typeof (global) !== "undefined" && typeof (global.process) !== "undefined" ? exports :
            (typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope) ? self : window));
